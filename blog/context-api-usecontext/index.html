<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
   <title>Context Api - UseContext()</title>

   
   <meta name="description" content="Context in React is a mechanism to share values, users data, shopping cart or any global state, between components without the need to pass props through every level of the component tree. It helps in avoiding prop drilling">

   
   <meta name="keywords" content="Web Development, React, Beginner Developers, Programming Blogs, webdev">

   
   <meta name="author" content="John Doe">

   
   <link rel="canonical" href="http://localhost:3000/blog/context-api-usecontext">

   
   <meta property="og:title" content="Context Api - UseContext()">
   <meta property="og:description" content="Context in React is a mechanism to share values, users data, shopping cart or any global state, between components without the need to pass props through every level of the component tree. It helps in avoiding prop drilling">
   <meta property="og:image" content="http://localhost:3000/images/context-api-usecontext.jpg">
   <meta property="og:url" content="http://localhost:3000/blog/context-api-usecontext">
   <meta property="og:type" content="article">

   
   <meta name="twitter:card" content="summary_large_image">
   <meta name="twitter:title" content="Context Api - UseContext()">
   <meta name="twitter:description" content="Context in React is a mechanism to share values, users data, shopping cart or any global state, between components without the need to pass props through every level of the component tree. It helps in avoiding prop drilling">
   <meta name="twitter:image" content="http://localhost:3000/images/context-api-usecontext.jpg">
   <link rel="shortcut icon" href="\assets\favicon.ico" type="image/x-icon">
   <link rel="stylesheet" href="\assets\main.css" type="text/css">
   <link rel="stylesheet" id="hljs-theme"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/a11y-dark.min.css">
</head>

<body class="bg-bg text-text">
   <div class="mx-auto flex flex-col items-center pb-8">
   <div class="flex px-5 justify-between sm:px-0 sm:justify-evenly items-center mb-5 bg-bg-post sm:mb-10 w-full py-3 ">
      <a href="/">
         <h1 class="text-xl sm:text-3xl text-center text-text-nav-logo font-black leading-10">
            <span class="text-text-nav-logo2">Dolly</span>
            Blog
         </h1>
      </a>
      <div id="theme-btn">
         <svg id="svg-sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="lucide lucide-sun-moon hidden">
            <path d="M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4" />
            <path d="M12 2v2" />
            <path d="M12 20v2" />
            <path d="m4.9 4.9 1.4 1.4" />
            <path d="m17.7 17.7 1.4 1.4" />
            <path d="M2 12h2" />
            <path d="M20 12h2" />
            <path d="m6.3 17.7-1.4 1.4" />
            <path d="m19.1 4.9-1.4 1.4" />
         </svg>
         <svg id="svg-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="lucide lucide-moon hidden">
            <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
         </svg>
      </div>
   </div>
   <div class="flex w-11/12 md:w-8/12 xl:w-6/12 flex-col">
      <form class="flex rounded-md w-full" action="/searching/index.html" method="GET">
         <input type="text" name="s" aria-label="Search keyword"
            class="w-full p-3 bg-bg rounded-md focus:bg-bg rounded-r-none border-2 border-violet-700 outline-none placeholder-current"
            placeholder="search post and tag" />
         <button type="submit"
            class="inline-flex items-center gap-2 bg-violet-700 text-white text-lg font-semibold py-3 px-6 rounded-r-md">
            <svg class="text-gray-200 h-5 w-5 p-0 fill-current" xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 56.966 56.966">
               <path
                  d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17s-17-7.626-17-17S14.61,6,23.984,6z" />
            </svg>
         </button>
      </form>
   </div>
</div>
   <div class="max-w-3xl mx-auto p-2 sm:p-0 markdown">
   <h2 id="introduction">Introduction</h2>
<p>Hey guys, In our previous article in the React series, we learned about how useEffect works and we also talked about some of itâ€™s use cases. In this article, weâ€™ll be talking about the React Context Api. Letâ€™s dive right in ğŸ˜‰</p>
<h2 id="what-is-context-">What is Context ?</h2>
<p>Context in React is a mechanism to share values, users data, shopping cart or any global state, between components without the need to pass props through every level of the component tree. It helps in avoiding prop drilling, where you pass data through several layers of components like passing props from a parent component such as <code>App</code> to a child component such <code>NavBar</code>.</p>
<h2 id="the-basics-of-usecontext"><strong>The Basics of useContext</strong></h2>
<p>The <code>useContext</code> hook is part of the React Hooks API, and its purpose is to access the value of a React context. Letâ€™s see an example for better understanding ğŸ‘‡.</p>
<pre><code class="language-javascript">// DemoContext.jsx
import { createContext } from 'react';

const DemoContext = createContext();

export const DemoProvider = ({ children }) =&gt; {
  const message = 'Testing this out to see if it works!';

  return (
    &lt;DemoContext.Provider value={{ message }}&gt;{children}&lt;/DemoContext.Provider&gt;
  );
};

export default DemoContext;
</code></pre>
<p>In this example, <code>DemoProvider</code> sets up the context and provides the value â€œ<strong>Testing this out to see if it works!â€</strong> to its children using <code>DemoContext.Provider</code>.</p>
<p>In order for you to have access to the <code>message</code> in your <code>App</code> component, you have to wrap your <code>App</code> with the <code>DemoProvider</code> like this ğŸ‘‡ğŸ½</p>
<pre><code class="language-javascript">// App.jsx
import { DemoProvider } from './DemoContext';
import Home from './components/Home';

const App = () =&gt; {
  return (
    &lt;&gt;
      &lt;DemoProvider&gt;
        &lt;Home /&gt;
      &lt;/DemoProvider&gt;
    &lt;/&gt;
  );
};

export default App;
</code></pre>
<p>You now have access to the <code>message</code> globally in your <code>App</code> what you need to do now is to use it where ever you want in your application. Weâ€™ll be using it on our home component ğŸ‘‡ğŸ½</p>
<pre><code class="language-javascript">// Home.jsx
import { useContext } from 'react';
import DemoContext from '../DemoContext';

const Home = () =&gt; {
  const { message } = useContext(DemoContext);
  return &lt;div className=&quot;home&quot;&gt;{message}&lt;/div&gt;;
};

export default Home;
</code></pre>
<p>From the code above we imported <code>useContext</code> and <code>DemoContext</code> . We also use the <code>DemoContext</code> by passing it to the <code>useContext</code> and extracting the <code>message</code> from it and lastly, passing it to our UI.</p>
<p>This is just the basics of how context works with <code>useContext</code>.</p>
<p>Letâ€™s see some of the use cases of when to use the <code>useContext</code> before we take a real world example ğŸ‘‡ğŸ½</p>
<h2 id="when-to-use-usecontext"><strong>When to Use</strong> <code>useContext</code></h2>
<p>Understanding when to use <code>useContext</code> is crucial for effective React development. Here are some scenarios where <code>useContext</code> shines ğŸ‘‡ğŸ½</p>
<h3 id="1-avoiding-prop-drilling"><strong>1. Avoiding Prop Drilling</strong></h3>
<p><code>useContext</code> is especially useful when dealing with deeply nested components where passing props becomes impractical. Instead of passing data through each intermediate component, you can directly consume the context where it's needed.</p>
<h3 id="2-managing-global-state"><strong>2. Managing Global State</strong></h3>
<p>When you need to share state or functionality across multiple components, <code>useContext</code> can be an efficient way to create a centralized place for that data or behavior. This is particularly relevant for managing global state in your application.</p>
<h3 id="3-cleaner-code"><strong>3. Cleaner Code</strong></h3>
<p><code>useContext</code> simplifies the code by making the codebase more readable and reducing the verbosity associated with context consumption.</p>
<h3 id="4-dynamic-values"><strong>4. Dynamic Values</strong></h3>
<p>When the context value is expected to change over time, such as when managing dynamic global states or themes, <code>useContext</code> provides an elegant solution for components to stay in sync with these changes.</p>
<p>Letâ€™s now see an example of where it can be used in a real world application ğŸ‘‡ğŸ½</p>
<h3 id="the-shopping-cart-analogy-for-usecontext"><strong>The Shopping Cart Analogy for</strong> <code>useContext</code></h3>
<p>Imagine you are building an e-commerce website with various components responsible for different parts of the user interface. One critical aspect of the website is the shopping cart, which keeps track of the items users want to purchase.</p>
<h3 id="context-as-the-shopping-cart">Context as the Shopping Cart</h3>
<p>In the context of our analogy, the shopping cart represents the shared data or state that needs to be accessed by multiple components. The Context API in React serves as this virtual shopping cart. It provides a way for components to share information without manually passing it through each one or passing it from the parent component down to where it is needed.</p>
<h3 id="the-usecontext-hook-as-the-shopper">The <code>useContext</code> Hook as the Shopper</h3>
<p>Now, let's introduce the <code>useContext</code> hook as the shopper who wants to interact with the shopping cart. Instead of carrying the cart around and passing it to every store, the shopper uses the <code>useContext</code> hook to access the cart whenever needed.</p>
<h3 id="setting-up-the-context-creating-the-cart">Setting up the Context (Creating the Cart)</h3>
<p>Before shoppers can use the <code>useContext</code> hook, you need to set up the context, which is similar to creating the shopping cart. In React, you create a context using <code>createContext()</code>. ğŸ‘‡ğŸ½</p>
<pre><code class="language-javascript">import { createContext } from 'react';

const ShoppingCartContext = createContext();
</code></pre>
<p>This creates a new shopping cart, ready to be filled with items.</p>
<h3 id="providing-the-cart-creating-the-provider-component">Providing the Cart (Creating the Provider Component)</h3>
<p>To fill the shopping cart with items, you need a provider component. This is where the <code>DemoProvider</code> component from the previous examples comes in. It wraps the part of your application that needs access to the shopping cart just like we talked about in previous examples. ğŸ‘‡ğŸ½</p>
<pre><code class="language-javascript">
const ShoppingCartProvider = ({ children }) =&gt; {
  const [cart, setCart] = useState([]);

  const addToCart = (item) =&gt; {
    setCart([...cart, item]);
  };

  return (
    &lt;ShoppingCartContext.Provider value={{ cart, addToCart }}&gt;
      {children}
    &lt;/ShoppingCartContext.Provider&gt;
  );
};

</code></pre>
<p>This provider component sets up the shopping cart with an initial empty array and a function to add items to it.</p>
<h3 id="using-the-usecontext-hook-the-shopper-checking-the-cart">Using the <code>useContext</code> Hook (The Shopper Checking the Cart)</h3>
<p>Now, any component that wants to interact with the shopping cart can use the <code>useContext</code> hook to check its contents but you must first wrap your <code>App</code> with the <code>ShoppingCartProvider</code> just like weâ€™ve discussed in previous example ğŸ‘‡ğŸ½</p>
<pre><code class="language-javascript">
import { useContext } from 'react';
import ShoppingCartContext from '../ShoppingCartContext';

const ShoppingCartDisplay = () =&gt; {
  const { cart, addToCart } = useContext(ShoppingCartContext);

  return (
    &lt;div&gt;
      &lt;h2&gt;Shopping Cart&lt;/h2&gt;
      &lt;p&gt;Items in Cart: {cart.length}&lt;/p&gt;
    &lt;/div&gt;
  );
};

</code></pre>
<p>In this example, the <code>ShoppingCartDisplay</code> component uses <code>useContext</code> to access the shopping cart's contents and the <code>addToCart</code> function to add items to it.</p>
<p>Letâ€™s see a recap of what weâ€™ve just discussed ğŸ‘‡ğŸ½</p>
<p>In the example we just did, the shopping cart represents the shared state or data, the <code>useContext</code> hook is the shopper accessing the cart, and the provider component is the one responsible for setting up and managing the contents of the cart.</p>
<p>Hope it makes sense now ğŸ™‚</p>
<p>Here is a <a href="https://github.com/dev-lawrence/usecontext-shop">link</a> to a GitHub repo that is similar to the example we just did so that you can play around with to get a better understanding.</p>
<p>While <code>useContext</code> is a powerful tool, it's essential to be aware of its limitations and best practices</p>
<h2 id="limitations-and-considerations-of-usecontext"><strong>Limitations and Considerations of</strong> <code>useContext</code></h2>
<h3 id="1-nesting-limitations"><strong>1. Nesting Limitations</strong></h3>
<p>Avoid excessive nesting of contexts, as it can lead to decreased performance. Each call to <code>useContext</code> adds a subscription to the context, and deeply nested contexts can result in unnecessary re-renders. Letâ€™s see an example ğŸ‘‡ğŸ½</p>
<pre><code class="language-javascript">const App = () =&gt; (
  &lt;ThemeContext.Provider value=&quot;light&quot;&gt;
    &lt;UserContext.Provider value={{ username: 'Dev Lawrence' }}&gt;
      &lt;Content /&gt;
    &lt;/UserContext.Provider&gt;
  &lt;/ThemeContext.Provider&gt;
);

const Content = () =&gt; {
  const theme = useContext(ThemeContext);
  const user = useContext(UserContext);
};
</code></pre>
<p>In this example, both <code>ThemeContext</code> and <code>UserContext</code> are consumed within the <code>Content</code> component. If this nesting becomes more complex or involves deeply nested components, it may impact the overall performance of the application.</p>
<h3 id="2-static-dependencies"><strong>2. Static Dependencies</strong></h3>
<p>Ensure that the call to <code>useContext</code> is not conditionally based on some runtime values. React relies on the order of hooks, and dynamic dependencies can lead to unexpected behavior. For example ğŸ‘‡ğŸ½</p>
<pre><code class="language-javascript">const MyComponent = () =&gt; {
  const theme = condition ? useContext(ThemeContextLight) : useContext(ThemeContextDark);
};
</code></pre>
<p>The usage of <code>useContext</code> here is discouraged because the dependency (<code>ThemeContextLight</code> or <code>ThemeContextDark</code>) should remain constant throughout the component's lifecycle.</p>
<p><em>And I really donâ€™t know why you would think of doing something like this</em> ğŸ‘†ğŸ½</p>
<h3 id="3-multiple-contexts"><strong>3. Multiple Contexts</strong></h3>
<p>Components can consume multiple contexts by calling <code>useContext</code> multiple times. However, be mindful of how this affects your component's readability and maintainability. For example ğŸ‘‡ğŸ½</p>
<pre><code class="language-javascript">const MultiContextComponent = () =&gt; {
  const theme = useContext(ThemeContext);
  const user = useContext(UserContext);
  const settings = useContext(SettingsContext);
};
</code></pre>
<p>In this example, the component consumes three different contexts. While this is valid, it's important to assess whether a component with such dependencies remains clear and maintainable. But if I were to be honest, this third limitation is actually subjective.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Thatâ€™s the end of the article guys ğŸ‰ ğŸ‰, hope you learned something from it, you can leave any questions in the comment. See you next week and have an amazing weekend ğŸ˜ƒ</p>

</div>

   <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>

   
   <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/go.min.js"></script>

   <script src="\assets\main.js?v=1"></script>

   <script type="text/javascript">hljs.highlightAll();</script>
</body>

</html>